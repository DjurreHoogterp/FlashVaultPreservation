<!DOCTYPE html>
<html>
<head>
  <title>Edit History</title>
  <link rel="stylesheet" href="/css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Inter:wght@400;600&display=swap" rel="stylesheet" />

</head>
<body class="ontology-page">
  <div class="page-container">
    <%- include('partials/header.ejs') %>
    <h1>Edit History</h1>
    <button onclick="history.back()" class="details-button">Go back</button>
    <% if (edits.length === 0) { %>
      <p>No edits recorded.</p>
    <% } else { %>
      <% edits.forEach(edit => { %>
        <section>
          <h3>
            <%= edit.title || 'Unknown Game' %>
            <small style="display:block; font-size:0.7rem; color:#ccc;">
              Edited at <%= edit.edited_at %> from IP <%= edit.editor_ip %>
            </small>
          </h3>

          <ul>
            <% Object.entries(edit.changes).forEach(([key, value]) => { %>
              <li>
                <strong><%= key.replace('_', ' ') %></strong><br />
                <span style="color: #ccc;">From:</span> <code><%= value.from %></code><br />
                <span style="color: #ccc;">To:</span> <code><%= value.to %></code>
              </li>
            <% }) %>
          </ul>
        </section>
      <% }) %>
    <% } %>
  </div>
</body>
</html>
