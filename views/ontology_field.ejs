<!DOCTYPE html>
<html>
<head>
  <title><%= field.replace('_', ' ') %> â€“ Game Metadata</title>
  <link rel="stylesheet" href="/css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body class="ontology-page">
  <div class="page-container">
    <%- include('partials/header.ejs') %>

    <h1>Category: <%= field.replace('_', ' ') %></h1>
    <button onclick="history.back()" class="details-button">Go back</button>
    <section>
      <h3><%= field.replace('_', ' ') %></h3>
      <ul>
        <% values.forEach(value => { %>
          <li>
            <a 
              href="/search?q=<%= encodeURIComponent(value) %>&field=<%= field %>" 
              class="metadata-tag" 
              data-type="<%= field %>" 
              data-value="<%= value %>">
              <%= value %>
            </a>
          </li>
        <% }) %>
      </ul>
    </section>
  </div>
<script>
  document.querySelectorAll('.metadata-tag').forEach(tag => {
    tag.addEventListener('click', function () {
      const type = this.dataset.type;
      const value = this.dataset.value;
      logAction('click_filter', { type, value });
    });
  });
</script>
</body>
</html>
